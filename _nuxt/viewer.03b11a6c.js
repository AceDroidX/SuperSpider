import v from"./ThemeBtn.4bacf0e4.js";import{_ as h}from"./BiliSCLogo.fc18b495.js";import k from"./UsageTips.4ce8e427.js";import{V as s,a as i,b as C,c as b,d as y,_ as F}from"./AuthorCard.43f2fe0c.js";import D from"./ChangelogText.6413f608.js";import{av as S,a as x,o as B,c as L,w as t,f as e,K as T,t as U,h as r,ap as A}from"./entry.2a47a7fd.js";import{V as M}from"./viewer-config.201ff265.js";import{V as N,a as R,b as O,c as m,d as E,e as p,f as I,k as $,g as j,h as q,i as K,j as G}from"./VSwitch.faab3fa1.js";import{V as f}from"./VContainer.437fac32.js";import{V as u}from"./VBtn.d4252c0a.js";import"./VIcon.a48c9915.js";import"./tag.3dcb0d75.js";import"./color.21b10d14.js";import"./index.4684c4b2.js";import"./router.ed83d862.js";import"./position.5af7921d.js";import"./createSimpleFunctional.b344c267.js";import"./VAvatar.bf67fe17.js";import"./transition.82b1bcf6.js";import"./VCardText.69029f80.js";import"./forwardRefs.064503a1.js";const W={name:"SCViewerLayout",data(){return{roomlist:this.$config.ROOM_ID.split(","),drawer:!0,right:!0,rightDrawer:!1,title:"BiliSC",collapseOnScroll:!0,newVersionDialog:!1,version:"null"}},computed:{...S(M,["room","pageLimit","showMarkNative","startFetch"]),miniViewerURL(){return`/mini?room=${this.room}&limit=${this.pageLimit}&mark=${this.showMarkNative}&dark=${this.$vuetify.theme.current.dark}`}},watch:{startFetch(){switch(this.$vuetify.display.name){case"xs":case"sm":this.drawer=!1;break}}},mounted(){this.version=this.$config.version;const l=localStorage.getItem("version");this.$config.version!==l&&(console.log("version changed"),this.newVersionDialog=!0)},methods:{log(l){console.log(l)},setVersion(){localStorage.setItem("version",this.$config.version),this.newVersionDialog=!1},openLink(l,o){o?window.open(l,"BiliSC for OBS","menubar=0,location=0,scrollbars=0,toolbar=0,width=500,height=700"):window.open(l)},openMiniViewer(){this.startFetch=0,this.openLink(this.miniViewerURL,!0)},copyURL(){this.copyText(window.location.origin+this.miniViewerURL)},copyText(l){navigator.clipboard.writeText(l)}}};function z(l,o,H,J,a,d){const c=v,_=h,V=k,g=F,w=D;return B(),L(N,{dark:""},{default:t(()=>[e(E,{collapse:!a.drawer,"collapse-on-scroll":!1,"scroll-target":"#scrolling-techniques-6"},{default:t(()=>[e(R,{onClick:o[0]||(o[0]=T(n=>a.drawer=!a.drawer,["stop"]))}),e(O,{textContent:U(a.title)},null,8,["textContent"]),e(m),e(c)]),_:1},8,["collapse"]),e(K,{modelValue:a.drawer,"onUpdate:modelValue":o[9]||(o[9]=n=>a.drawer=n),width:"400"},{default:t(()=>[e(_,{class:"pb-4",version:a.version},null,8,["version"]),e(p),e(f,null,{default:t(()=>[e(s,{"no-gutters":"",align:"center"},{default:t(()=>[e(i,null,{default:t(()=>[r(" 标记显示 ")]),_:1}),e(i,null,{default:t(()=>[e(I,{modelValue:l.showMarkNative,"onUpdate:modelValue":o[1]||(o[1]=n=>l.showMarkNative=n),"hide-details":"auto",flat:"",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{"no-gutters":"",align:"center"},{default:t(()=>[e(i,null,{default:t(()=>[r(" 显示数量 ")]),_:1}),e(i,null,{default:t(()=>[e($,{modelValue:l.pageLimit,"onUpdate:modelValue":o[2]||(o[2]=n=>l.pageLimit=n),variant:"underlined","hide-details":"auto",density:"compact",class:"pb-3"},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{"no-gutters":"",align:"center"},{default:t(()=>[e(i,null,{default:t(()=>[r(" 房间号 ")]),_:1}),e(i,null,{default:t(()=>[e(j,{modelValue:l.room,"onUpdate:modelValue":o[3]||(o[3]=n=>l.room=n),items:a.roomlist,variant:"underlined","hide-details":"auto",density:"compact",class:"pb-3"},null,8,["modelValue","items"])]),_:1})]),_:1}),e(s,{"no-gutters":""},{default:t(()=>[e(i,null,{default:t(()=>[e(m)]),_:1}),e(i,{cols:"6"},{default:t(()=>[e(u,{block:"",variant:"outlined",onClick:o[4]||(o[4]=n=>l.startFetch+=1)},{default:t(()=>[r("GO")]),_:1})]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(i,null,{default:t(()=>[e(p)]),_:1})]),_:1}),e(s,{justify:"space-around"},{default:t(()=>[e(i,{cols:"4"},{default:t(()=>[e(u,{block:"",variant:"outlined",onClick:o[5]||(o[5]=n=>d.openMiniViewer())},{default:t(()=>[r("小窗模式")]),_:1})]),_:1}),e(i,{cols:"4"},{default:t(()=>[e(u,{block:"",variant:"outlined",onClick:o[6]||(o[6]=n=>d.copyURL())},{default:t(()=>[r("复制链接")]),_:1})]),_:1})]),_:1}),e(s,{justify:"space-around"},{default:t(()=>[e(i,{cols:"4"},{default:t(()=>[e(u,{block:"",variant:"outlined",onClick:o[7]||(o[7]=n=>a.newVersionDialog=!0)},{default:t(()=>[r("更新日志")]),_:1})]),_:1}),e(i,{cols:"4"},{default:t(()=>[e(u,{block:"",variant:"outlined",nuxt:"",to:"/history"},{default:t(()=>[r("历史SC")]),_:1})]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(i,null,{default:t(()=>[e(V,{class:"pb-3"})]),_:1})]),_:1}),e(s,{"no-gutters":""},{default:t(()=>[e(i,null,{default:t(()=>[e(g)]),_:1})]),_:1})]),_:1}),e(q,{modelValue:a.newVersionDialog,"onUpdate:modelValue":o[8]||(o[8]=n=>a.newVersionDialog=n),width:"500","onClick:outside":d.setVersion},{default:t(()=>[e(C,null,{default:t(()=>[e(b,{class:"text-h5"},{default:t(()=>[r(" 更新日志 ")]),_:1}),e(w),e(p),e(y,null,{default:t(()=>[e(m),e(u,{color:"primary",text:"",onClick:d.setVersion},{default:t(()=>[r(" OK ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","onClick:outside"])]),_:1},8,["modelValue"]),e(G,{id:"scrolling-techniques-6"},{default:t(()=>[e(f,null,{default:t(()=>[A(l.$slots,"default",{},void 0,!0)]),_:3})]),_:3})]),_:3})}const Ve=x(W,[["render",z],["__scopeId","data-v-1fff776e"]]);export{Ve as default};
