import{V as I,a as R,b as F,c as v,_ as O,d as j,e as q,f as g,g as i,h as o,i as G,u as H,j as K,k as m,l as Z,m as z,n as E,o as J,p as P,q as Q,r as W,s as X,t as Y}from"./D9kPJkSU.js";import{d as h,ay as tt,F as et,r as p,n as lt,o as ot,I as nt,a0 as at,y as st,C as l,B as t,G as a,Z as ut,A as it,H as C,D as u,aj as rt,_ as dt}from"./Ce15lXcl.js";import{V as ft}from"./B1VobMGF.js";import{V as k}from"./Dzlx3iFJ.js";const mt=h({__name:"viewer",setup(pt){const{name:x}=tt(),{current:b}=et(),s=ft(),_=lt(),y=p(_.public.ROOM_ID.split(",")),d=p(!0),S=p("BiliSC"),f=p(!1),V=p("null");ot(()=>{V.value=_.public.version;const r=localStorage.getItem("version");V.value!==r&&(console.log("version changed"),f.value=!0)}),nt(()=>s.startFetch,r=>{switch(x.value){case"xs":case"sm":d.value=!1;break}});function c(){return`/mini?room=${s.room}&limit=${s.pageLimit}&mark=${s.showMarkNative}&dark=${b.value.dark}`}function w(){localStorage.setItem("version",_.public.version),f.value=!1}function T(r,e){window.open(r,"BiliSC for OBS","menubar=0,location=0,scrollbars=0,toolbar=0,width=500,height=700")}function B(){s.startFetch=0,T(c())}function $(){D(window.location.origin+c())}function D(r){navigator.clipboard.writeText(r)}return(r,e)=>{const M=O,N=q,U=Z,L=z,A=Q;return st(),at(Y,{dark:""},{default:l(()=>[t(I,{collapse:!a(d)},{default:l(()=>[t(R,{onClick:e[0]||(e[0]=ut(n=>d.value=!a(d),["stop"]))}),t(F,{textContent:it(a(S))},null,8,["textContent"]),t(v),t(M)]),_:1},8,["collapse"]),t(j,{modelValue:a(d),"onUpdate:modelValue":e[9]||(e[9]=n=>C(d)?d.value=n:null),width:"400"},{default:l(()=>[t(N,{class:"pb-4",version:a(V)},null,8,["version"]),t(g),t(k,null,{default:l(()=>[t(i,{"no-gutters":"",align:"center"},{default:l(()=>[t(o,null,{default:l(()=>e[10]||(e[10]=[u(" 标记显示 ")])),_:1,__:[10]}),t(o,null,{default:l(()=>[t(G,{modelValue:a(s).showMarkNative,"onUpdate:modelValue":e[1]||(e[1]=n=>a(s).showMarkNative=n),"hide-details":"auto",flat:"",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),t(i,{"no-gutters":"",align:"center"},{default:l(()=>[t(o,null,{default:l(()=>e[11]||(e[11]=[u(" 显示数量 ")])),_:1,__:[11]}),t(o,null,{default:l(()=>[t(H,{modelValue:a(s).pageLimit,"onUpdate:modelValue":e[2]||(e[2]=n=>a(s).pageLimit=n),variant:"underlined","hide-details":"auto",density:"compact",class:"pb-3"},null,8,["modelValue"])]),_:1})]),_:1}),t(i,{"no-gutters":"",align:"center"},{default:l(()=>[t(o,null,{default:l(()=>e[12]||(e[12]=[u(" 房间号 ")])),_:1,__:[12]}),t(o,null,{default:l(()=>[t(K,{modelValue:a(s).room,"onUpdate:modelValue":e[3]||(e[3]=n=>a(s).room=n),items:a(y),variant:"underlined","hide-details":"auto",density:"compact",class:"pb-3"},null,8,["modelValue","items"])]),_:1})]),_:1}),t(i,{"no-gutters":""},{default:l(()=>[t(o,null,{default:l(()=>[t(v)]),_:1}),t(o,{cols:"6"},{default:l(()=>[t(m,{block:"",variant:"outlined",onClick:e[4]||(e[4]=n=>a(s).startFetch+=1)},{default:l(()=>e[13]||(e[13]=[u("GO")])),_:1,__:[13]})]),_:1})]),_:1}),t(i,null,{default:l(()=>[t(o,null,{default:l(()=>[t(g)]),_:1})]),_:1}),t(i,{justify:"space-around"},{default:l(()=>[t(o,{cols:"4"},{default:l(()=>[t(m,{block:"",variant:"outlined",onClick:e[5]||(e[5]=n=>B())},{default:l(()=>e[14]||(e[14]=[u("小窗模式")])),_:1,__:[14]})]),_:1}),t(o,{cols:"4"},{default:l(()=>[t(m,{block:"",variant:"outlined",onClick:e[6]||(e[6]=n=>$())},{default:l(()=>e[15]||(e[15]=[u("复制链接")])),_:1,__:[15]})]),_:1})]),_:1}),t(i,{justify:"space-around"},{default:l(()=>[t(o,{cols:"4"},{default:l(()=>[t(m,{block:"",variant:"outlined",onClick:e[7]||(e[7]=n=>f.value=!0)},{default:l(()=>e[16]||(e[16]=[u("更新日志")])),_:1,__:[16]})]),_:1}),t(o,{cols:"4"},{default:l(()=>[t(m,{block:"",variant:"outlined",nuxt:"",to:"/history"},{default:l(()=>e[17]||(e[17]=[u("历史SC")])),_:1,__:[17]})]),_:1})]),_:1}),t(i,null,{default:l(()=>[t(o,null,{default:l(()=>[t(U,{class:"pb-3"})]),_:1})]),_:1}),t(i,{"no-gutters":""},{default:l(()=>[t(o,null,{default:l(()=>[t(L)]),_:1})]),_:1})]),_:1}),t(E,{modelValue:a(f),"onUpdate:modelValue":e[8]||(e[8]=n=>C(f)?f.value=n:null),width:"500","onClick:outside":w},{default:l(()=>[t(J,null,{default:l(()=>[t(P,{class:"text-h5"},{default:l(()=>e[18]||(e[18]=[u(" 更新日志 ")])),_:1,__:[18]}),t(A),t(g),t(W,null,{default:l(()=>[t(v),t(m,{color:"primary",variant:"text",onClick:w},{default:l(()=>e[19]||(e[19]=[u(" OK ")])),_:1,__:[19]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),t(X,{id:"scrolling-techniques-6"},{default:l(()=>[t(k,null,{default:l(()=>[rt(r.$slots,"default",{},void 0,!0)]),_:3})]),_:3})]),_:3})}}}),ct=dt(mt,[["__scopeId","data-v-60e5f625"]]);export{ct as default};
